go test -v  ./...
?   	github.com/manofthelionarmy/prolog/api/v1	[no test files]
=== RUN   TestAgent
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 0 127.0.0.1
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 1 127.0.0.1
2021/11/16 21:53:32 [DEBUG] memberlist: Initiating push/pull sync with: 127.0.0.1:22289
2021/11/16 21:53:32 [DEBUG] memberlist: Stream connection from=127.0.0.1:54874
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 1 127.0.0.1
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 0 127.0.0.1
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 2 127.0.0.1
2021/11/16 21:53:32 [DEBUG] memberlist: Stream connection from=127.0.0.1:54876
2021/11/16 21:53:32 [DEBUG] memberlist: Initiating push/pull sync with: 127.0.0.1:22289
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 2 127.0.0.1
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 1 127.0.0.1
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 0 127.0.0.1
2021/11/16 21:53:32 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:32 [INFO] serf: EventMemberJoin: 2 127.0.0.1
2021/11/16 21:53:32 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:32 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:32 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:32 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 1
2021/11/16 21:53:33 [DEBUG] serf: messageJoinType: 2
2021/11/16 21:53:38 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:38 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [INFO] serf: EventMemberLeave: 0 127.0.0.1
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [INFO] serf: EventMemberLeave: 0 127.0.0.1
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [DEBUG] serf: messageLeaveType: 0
2021/11/16 21:53:39 [INFO] serf: EventMemberLeave: 0 127.0.0.1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [INFO] serf: EventMemberLeave: 1 127.0.0.1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [INFO] serf: EventMemberLeave: 1 127.0.0.1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:40 [INFO] serf: EventMemberLeave: 1 127.0.0.1
2021/11/16 21:53:40 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:41 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:41 [DEBUG] serf: messageLeaveType: 1
2021/11/16 21:53:42 [INFO] serf: EventMemberLeave: 2 127.0.0.1
2021/11/16 21:53:42 [INFO] serf: EventMemberFailed: 2 127.0.0.1
2021/11/16 21:53:42 [INFO] serf: EventMemberFailed: 2 127.0.0.1
--- PASS: TestAgent (10.40s)
PASS
ok  	github.com/manofthelionarmy/prolog/internal/agent	10.411s
?   	github.com/manofthelionarmy/prolog/internal/auth	[no test files]
?   	github.com/manofthelionarmy/prolog/internal/config	[no test files]
=== RUN   TestMembership
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 0 127.0.0.1
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 1 127.0.0.1
2021/11/11 13:12:14 [DEBUG] memberlist: Stream connection from=127.0.0.1:44948
2021/11/11 13:12:14 [DEBUG] memberlist: Initiating push/pull sync with: 127.0.0.1:22289
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 1 127.0.0.1
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 0 127.0.0.1
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 2 127.0.0.1
2021/11/11 13:12:14 [DEBUG] memberlist: Initiating push/pull sync with: 127.0.0.1:22289
2021/11/11 13:12:14 [DEBUG] memberlist: Stream connection from=127.0.0.1:44950
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 2 127.0.0.1
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 1 127.0.0.1
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 0 127.0.0.1
2021/11/11 13:12:14 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:14 [INFO] serf: EventMemberJoin: 2 127.0.0.1
2021/11/11 13:12:14 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:14 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [INFO] serf: EventMemberLeave: 2 127.0.0.1
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageLeaveType: 2
2021/11/11 13:12:15 [DEBUG] serf: messageJoinType: 1
2021/11/11 13:12:15 [INFO] serf: EventMemberLeave: 2 127.0.0.1
2021/11/11 13:12:15 [INFO] serf: EventMemberLeave: 2 127.0.0.1
--- PASS: TestMembership (2.25s)
PASS
ok  	github.com/manofthelionarmy/prolog/internal/discovery	(cached)
=== RUN   TestIndex
--- PASS: TestIndex (0.00s)
=== RUN   TestLog
=== RUN   TestLog/reader
=== RUN   TestLog/truncate
=== RUN   TestLog/append_and_read_a_record_succeeds
=== RUN   TestLog/offset_out_of_range_error
=== RUN   TestLog/init_with_existing_segments
--- PASS: TestLog (0.00s)
    --- PASS: TestLog/reader (0.00s)
    --- PASS: TestLog/truncate (0.00s)
    --- PASS: TestLog/append_and_read_a_record_succeeds (0.00s)
    --- PASS: TestLog/offset_out_of_range_error (0.00s)
    --- PASS: TestLog/init_with_existing_segments (0.00s)
=== RUN   TestMyUnderstanding
hello from records
this is another message
--- PASS: TestMyUnderstanding (0.00s)
=== RUN   TestSegment
--- PASS: TestSegment (0.00s)
=== RUN   TestStoreAppend
--- PASS: TestStoreAppend (0.00s)
=== RUN   TestStoreClose
--- PASS: TestStoreClose (0.00s)
PASS
ok  	github.com/manofthelionarmy/prolog/internal/log	0.005s
=== RUN   TestServer
=== RUN   TestServer/produce/consume_a_message_to/from_the_log_succeeds
=== RUN   TestServer/produce/consume_stream_succeeds
=== RUN   TestServer/consume_past_log_boundary_fails
--- PASS: TestServer (0.10s)
    --- PASS: TestServer/produce/consume_a_message_to/from_the_log_succeeds (0.08s)
    --- PASS: TestServer/produce/consume_stream_succeeds (0.02s)
    --- PASS: TestServer/consume_past_log_boundary_fails (0.01s)
PASS
ok  	github.com/manofthelionarmy/prolog/internal/server	(cached)
